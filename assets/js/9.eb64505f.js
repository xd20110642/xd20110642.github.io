(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{278:function(e,l,t){"use strict";t.r(l);var n=t(22),r=Object(n.a)({},function(){var e=this,l=e.$createElement,t=e._self._c||l;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h3",{attrs:{id:"babel基础知识点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#babel基础知识点","aria-hidden":"true"}},[e._v("#")]),e._v(" babel基础知识点")]),e._v(" "),t("hr"),e._v(" "),t("ul",[t("li",[t("p",[e._v("babel做什么和不能做什么？")]),e._v(" "),t("pre",[t("code",[e._v("  babel只负责转义新标准引入的语法:箭头函数 let/const 解构\n  不能转换:对于新标准引入的全局变量、部分原生对象新增的原型链上的方法\n  如何解决:需要引入 polyfill 来解决。\n")])])]),e._v(" "),t("li",[t("p",[e._v("babel编译分为三个阶段")]),e._v(" "),t("ul",[t("li",[e._v("解析:将代码字符串解析成抽象语法树")]),e._v(" "),t("li",[e._v("转换：对抽象语法树进行转换操作。")]),e._v(" "),t("li",[e._v("生成: 根据变换后的抽象语法树再生成代码字符串。")])])]),e._v(" "),t("li",[t("p",[e._v("文件结构")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("presets(官方内置了一些配置):")]),e._v(" "),t("pre",[t("code",[e._v("  babel 插件集合的预设，包含某些插件 plugin。显然像上面那样一个一个配置插件会非常的麻烦，为了方便，babel 为我们提供了一个配置项叫做 persets（预设）\n")])]),e._v(" "),t("ul",[t("li",[t("p",[e._v("默认需要安装一个插件:")]),e._v(" "),t("pre",[t("code",[e._v('  @babel/preset-env       babel7以上 babel-* 重命名为 @babel/*\n  {\n      "presets":[\n          "@babel/preset-env",{//使用插件 并且声明配置项\n          useBuiltIns:"",//主要是用来配合@babel/polyfill \n              transform-runtime 和 polyfill 差别的环节重点讲,\n           有 false,entry,usage,默认是 false 啥子也不干，\n           为 entry，项目中 main.js 主动引入 @babel/polyfill ,会把所有的 polyfill 都引入，(全部引入 需要单独安装,并且手动在main.js里面引入)\n           为 usage main.js 主动引入core-js , 只会把用到的 polyfill 引入，(按需引入,需要单独安装,不需要手动安装) \n          }\n      ]\n  }\n')])])])])]),e._v(" "),t("li",[t("p",[e._v("plugins(安装自己需要的插件)")])])])]),e._v(" "),t("li",[t("p",[e._v("plugins 与 presets 同时存在的执行顺序")]),e._v(" "),t("ul",[t("li",[e._v("先执行 plugins 的配置项,再执行 Preset 的配置项")]),e._v(" "),t("li",[e._v("plugins 配置项，按照声明顺序执行")]),e._v(" "),t("li",[e._v("Preset 配置项，按照声明逆序执行")])])]),e._v(" "),t("li",[t("p",[e._v("你用 Vue presets 一般是 @vue/app,这个是把 在@babel/preset-env 包含的 plugins 上又加了很多自己定义的 plugins")])]),e._v(" "),t("li",[t("p",[e._v("runtime 机制，为组件开发而生")])]),e._v(" "),t("li",[t("p",[e._v("babel-polyfill:")]),e._v(" "),t("pre",[t("code",[e._v("  它效仿一个完整的ES2015+环境，使得我们能够使用新的内置对象比如 Promise，静态方法比如Array.from 或者 Object.assign, 实例方法比如 Array.prototype.includes 和生成器函数（提供给你使用 regenerator 插件）。为了达到这一点， polyfill 添加到了全局范围，就像原生类型比如 String 一样。 **会污染全局变量**\n")])])]),e._v(" "),t("li",[t("p",[e._v("总结下, Babel 只是转换 syntax 层语法,所以需要 @babel/polyfill 来处理API兼容,又因为 polyfill 体积太大，所以通过 preset的 useBuiltIns 来实现按需加载,再接着为了满足 npm 组件开发的需要 出现了 babel-runtime 和 babel-plugin-transform-runtime 来做隔离")])]),e._v(" "),t("li",[t("p",[e._v("在babel7版本中开启 @babel/preset-env 即可")])]),e._v(" "),t("li",[t("pre",[t("code",[e._v('  core-js， 根据需要引入ES5，ES6+标准方法的实现。\n  安装 polyfill: npm install core-js --save\n  引入 polyfill: import "core-js";\n  babel-polyfill 包含core-js 和regenerate-runtime (提供 async 语法编译后的运行时环境)。\n  安装 polyfill: npm install babel-polyfill --save\n  引入 polyfill: import "babel-polyfill";\n')])])]),e._v(" "),t("li",[t("p",[e._v("参考文章")])]),e._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://juejin.im/post/5d7e4cb46fb9a06acf2b8a46#heading-18",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://juejin.im/post/5d7e4cb46fb9a06acf2b8a46#heading-18"),t("OutboundLink")],1)])]),e._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://juejin.im/post/5d2b1df66fb9a07ef161b208#heading-10",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://juejin.im/post/5d2b1df66fb9a07ef161b208#heading-10"),t("OutboundLink")],1)])]),e._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://juejin.im/post/5d74d4376fb9a06ad16f9644#heading-16",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://juejin.im/post/5d74d4376fb9a06ad16f9644#heading-16"),t("OutboundLink")],1)])]),e._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://juejin.im/post/5c8134bd5188251ba73eed76",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://juejin.im/post/5c8134bd5188251ba73eed76"),t("OutboundLink")],1)])]),e._v(" "),t("li",[t("p",[t("a",{attrs:{href:"http://www.fly63.com/article/detial/609",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://www.fly63.com/article/detial/609"),t("OutboundLink")],1)])]),e._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://segmentfault.com/a/1190000014309163",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://segmentfault.com/a/1190000014309163"),t("OutboundLink")],1)])]),e._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://babeljs.io/docs/en/babel-preset-env#docsNav",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://babeljs.io/docs/en/babel-preset-env#docsNav"),t("OutboundLink")],1)])])])])},[],!1,null,null,null);l.default=r.exports}}]);